<!DOCTYPE html>
<!-- html xmlns:th="http://www.thymeleaf.org" = Para evitar que HTML arroje errores por trabajar con elementos de thymeleaf -->
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="th_templates/head :: head"></head>

<body>
  <!-- NAVBAR >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
  <header th:replace="th_templates/navbar :: navbar"></header>

  <main class="main-index">

    <!-- IMG OF THE HANDYMAN >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
    <div class="container text-center">
      <div class="row">
        <div class="col left-col">
          <h4 class="subtitle">Te damos la bienvenida</h4>
          <h1 class="big-title">Administrador!</h1>

          <!-- <button type="button" class="btn btn-warning button">ðŸ§° Servicios</button> -->
        </div>
        <div class="col">
          <img class="image2" src="../img/database.svg" alt="database">
        </div>
      </div>
    </div>

    <br><br>

    <!-- TABLE -->
    <div th:if="${users != null}">
      <table class="table table-dark table-striped">
        <thead>
          <tr>
            <!-- <th>id</th> -->
            <th>Foto</th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Email</th>
            <th>Rol</th>
            <th></th>
            <th>Acciones </th>
            <th></th>
          </tr>
        </thead>
        <tbody th:each="user : ${users}">
          <tr>
            <!-- <td th:text="${user.id}"></td> -->
            <td><img class="profilePic" th:src="@{'/image/DB/' + ${user.image}}"></td>
            <td th:text="${user.name}"></td>
            <td th:text="${user.lastname}"></td>
            <td th:text="${user.email}"></td>
            <td th:text="${user.role}"></td>
            <td><a th:href="@{/user/perfil/__${user.id}__}"><i class="bi bi-person-circle"></i> Cambiar Rol</a></td>
            <td><a th:href="@{/user/perfil/__${user.id}__}"><i class="bi bi-pen"></i> Modificar</a></td>
            <td><a th:href="@{/user/perfil/__${user.id}__}"><i class="bi bi-trash"></i> Eliminar</a></td>
          </tr>
        </tbody>
      </table>
    </div>

  </main>

  <!-- FOOTER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
  <footer th:replace="th_templates/footer :: footer"></footer>

  <!-- Script / Bootstrap -->
  <div th:replace="th_templates/bootstrap :: bootstrap"></div>

</body>

</html>